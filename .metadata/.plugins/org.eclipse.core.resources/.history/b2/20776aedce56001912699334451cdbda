package com.ta.core;

import java.util.Map;

public class CompilationMarker extends Marker {

	private CompilationResults cr;
	private float[][] scheme;
	
	public CompilationMarker(Marksheet m){
		super(m);
	}
	
	public void setCompilationResults(CompilationResults cr){
		this.cr = cr;
	}
	
	public void setTotalOutOf(float amt){
		this.totalOutOf = amt;
	}
	@Override
	public void mark() {
		
		Marksheet m = getMarksheet();
		m.writeRowBoldln("Compilation");
		
		for(String className : cr.getFailureCompilationArray()){
			System.out.println(className + " does not complie");
			m.writeRowln(className+".java"," Does not compile");
		}

		for(String className : cr.getSuccessCompilationArray()){
			System.out.println(className + " complies");
			m.writeRowln(className+".java"," Complies");
		}
		
		int numCompiled = cr.numSuccess();
		
		for(float[] rule : scheme){
			if(numCompiled <= rule[0]){
				m.writeRowln("",Float.toString(rule[1]),"/"+Float.toString(totalOutOf));
				break;
			}
		}
		
	}
	
	
	

}
