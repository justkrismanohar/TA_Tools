import java.io.File;

import com.ta.core.AutoMarker;
import com.ta.core.CompilationResults;
import com.ta.core.Marker;
import com.ta.core.Marksheet;

public class MarkA3 extends Marker{
	
	String packagePrefix = "gradingapplication"+File.separator;
	
	String [] studentClassNames = new String[] {
			"GradeSlip"
			,"MasterMarkSheet"
			,"GradingGUI"
			,"GradingApplication"
	};
	
	
	private CompilationResults complieAndLoadStudentClasses(){
		String[] classes = studentClassNames;
		String dirPath = getMarksheet().getDirPath();
		AutoMarker.clearExternallyLoadedClasses();
		return AutoMarker.loadAndComplieClassesFromDir(classes, dirPath);	
	}
	
	@Override
	public void mark() {
		//move java files to folder
		markingProcess.runCommand("mkdir gradingapplication");
		markingProcess.runCommand("move *.java gradingapplication");
		markingProcess.runCommand("javac gradingapplication\\GradingApplication.java");
		
		//compile files
//		CompilationResults cr = complieAndLoadStudentClasses();
//		for(String c : cr.getFailureCompilationArray())
//			System.err.println(c);
		
		//run gui
		markingProcess.openJavaFilesInNotepad();
		markingProcess.openMarkingSlip();
		
	}

}
